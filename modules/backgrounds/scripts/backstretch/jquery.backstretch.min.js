/*! Backstretch - v2.0.1 - 2012-10-01
* http://srobbin.com/jquery-plugins/backstretch/
* Copyright (c) 2012 Scott Robbin; Licensed MIT */
(function(a,b,c){"use strict";a.fn.backstretch=function(d,f){if(d===c||d.length===0){a.error("No images were supplied for Backstretch")}if(a(b).scrollTop()===0){b.scrollTo(0,0)}return this.each(function(){var b=a(this),c=b.data("backstretch");if(c){f=a.extend(c.options,f);c.destroy(true)}c=new e(this,d,f);b.data("backstretch",c)})};a.backstretch=function(b,c){return a("body").backstretch(b,c).data("backstretch")};a.expr[":"].backstretch=function(b){return a(b).data("backstretch")!==c};a.fn.backstretch.defaults={centeredX:true,centeredY:true,duration:5e3,fade:0,stretch:true};var d={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxWidth:"none",zIndex:-999999}};var e=function(c,e,g){this.options=a.extend({},a.fn.backstretch.defaults,g||{});this.images=a.isArray(e)?e:[e];a.each(this.images,function(){a("<img />")[0].src=this});this.isBody=c===document.body;this.$container=a(c);this.$wrap=a('<div class="backstretch"></div>').css(d.wrap).appendTo(this.$container);this.$root=this.isBody?f?a(b):a(document):this.$container;if(!this.isBody){var h=this.$container.css("position"),i=this.$container.css("zIndex");this.$container.css({position:h==="static"?"relative":h,zIndex:i==="auto"?0:i,background:"none"});this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&f?"fixed":"absolute"});this.index=0;this.show(this.index);a(b).on("resize.backstretch",a.proxy(this.resize,this)).on("orientationchange.backstretch",a.proxy(function(){if(this.isBody&&b.pageYOffset===0){b.scrollTo(0,1);this.resize()}},this))};e.prototype={resize:function(){try{var a={left:0,top:0},c=this.isBody?this.$root.width():this.$root.innerWidth(),d=c,e=this.isBody?b.innerHeight?b.innerHeight:this.$root.height():this.$root.innerHeight(),f=d/this.$img.data("ratio"),g,h=this.$wrap.find("img:not(.deleteable)");if(!this.options.stretch){d=h.width();f=h.height();if(this.options.centeredX){a.left=c/2-d/2+"px"}if(this.options.centeredY){a.top=e/2-f/2+"px"}}else if(f>=e){g=(f-e)/2;if(this.options.centeredY){a.top="-"+g+"px"}}else{f=e;d=f*this.$img.data("ratio");g=(d-c)/2;if(this.options.centeredX){a.left="-"+g+"px"}}this.$wrap.css({width:c,height:e}).find("img:not(.deleteable)").css({width:d,height:f}).css(a)}catch(i){}return this},show:function(b){if(Math.abs(b)>this.images.length-1){return}else{this.index=b}var c=this,e=c.$wrap.find("img").addClass("deleteable"),f=a.Event("backstretch.show",{relatedTarget:c.$container[0]});clearInterval(c.interval);c.$img=a("<img />").css(d.img).bind("load",function(b){var d=this.width||a(b.target).width(),g=this.height||a(b.target).height();a(this).data("ratio",d/g);c.resize();a(this).fadeIn(c.options.speed||c.options.fade,function(){e.remove();if(!c.paused){c.cycle()}c.$container.trigger(f)})}).appendTo(c.$wrap);c.$img.attr("src",c.images[b]);return c},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(this.index===0?this.images.length-1:this.index-1)},pause:function(){this.paused=true;return this},resume:function(){this.paused=false;this.next();return this},cycle:function(){if(this.images.length>1){clearInterval(this.interval);this.interval=setInterval(a.proxy(function(){if(!this.paused){this.next()}},this),this.options.duration)}return this},destroy:function(c){a(b).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);if(!c){this.$wrap.remove()}this.$container.removeData("backstretch")}};var f=function(){var a=navigator.userAgent,c=navigator.platform,d=a.match(/AppleWebKit\/([0-9]+)/),e=!!d&&d[1],f=a.match(/Fennec\/([0-9]+)/),g=!!f&&f[1],h=a.match(/Opera Mobi\/([0-9]+)/),i=!!h&&h[1],j=a.match(/MSIE ([0-9]+)/),k=!!j&&j[1];return!((c.indexOf("iPhone")>-1||c.indexOf("iPad")>-1||c.indexOf("iPod")>-1)&&e&&e<534||b.operamini&&{}.toString.call(b.operamini)==="[object OperaMini]"||h&&i<7458||a.indexOf("Android")>-1&&e&&e<533||g&&g<6||"palmGetResource"in b&&e&&e<534||a.indexOf("MeeGo")>-1&&a.indexOf("NokiaBrowser/8.5.0")>-1||k&&k<=6)}()})(jQuery,window)